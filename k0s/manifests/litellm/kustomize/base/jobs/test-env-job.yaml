apiVersion: v1
kind: Pod
metadata:
  name: "litellm-env-test"
  namespace: "litellm"
  labels:
    app.kubernetes.io/name: litellm
    app.kubernetes.io/instance: litellm
    app.kubernetes.io/version: "v1.80.11-stable"
spec:
  containers:
    - name: test
      image: busybox
      command: ['sh', '-c']
      args:
        - |
          # Test DD_ENV
          if [ "$DD_ENV" != "dev_helm" ]; then
            echo "Γ¥î Environment variable DD_ENV mismatch. Expected: dev_helm, Got: $DD_ENV"
            exit 1
          fi
          echo "Γ£à Environment variable DD_ENV matches expected value: $DD_ENV"
          
          # Test DD_SERVICE
          if [ "$DD_SERVICE" != "litellm" ]; then
            echo "Γ¥î Environment variable DD_SERVICE mismatch. Expected: litellm, Got: $DD_SERVICE"
            exit 1
          fi
          echo "Γ£à Environment variable DD_SERVICE matches expected value: $DD_SERVICE"
          
          # Test USE_DDTRACE
          if [ "$USE_DDTRACE" != "true" ]; then
            echo "Γ¥î Environment variable USE_DDTRACE mismatch. Expected: true, Got: $USE_DDTRACE"
            exit 1
          fi
          echo "Γ£à Environment variable USE_DDTRACE matches expected value: $USE_DDTRACE"
      env:
        - name: DD_ENV
          value: ""
        - name: DD_SERVICE
          value: ""
        - name: USE_DDTRACE
          value: ""
      resources:
        requests:
          cpu: 200m
          memory: 20Mi
        limits:
          cpu: 200m
          memory: 100Mi
  restartPolicy: Never
